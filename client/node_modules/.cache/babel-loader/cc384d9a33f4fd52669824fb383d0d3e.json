{"ast":null,"code":"const TRACK_DATA = \"track_data\";\nexport const getStorageData = key => {\n  try {\n    const data = localStorage.getItem(key);\n    console.log(\"DATA\", typeof JSON.parse(data));\n    if (data && typeof data === \"object\") return JSON.parse(data);\n    return data;\n  } catch {\n    return null;\n  }\n};\nexport const updateStorageData = (key, data) => {\n  try {\n    const storageData = getStorageData(key);\n    let stringifiedData;\n    console.log(\"data\", storageData, \"key\", key);\n\n    if (storageData && storageData.length) {\n      storageData.push(data);\n      stringifiedData = JSON.stringify(storageData);\n      console.log(\"STRINGI\", stringifiedData);\n      localStorage.setItem(key, stringifiedData);\n      return stringifiedData;\n    }\n\n    const arr = [];\n    arr.push(data);\n    stringifiedData = JSON.stringify(arr);\n    localStorage.setItem(key, stringifiedData);\n    return stringifiedData;\n  } catch (err) {\n    return err;\n  }\n};\nexport const removeStorageData = () => {\n  try {\n    localStorage.removeItem(TRACK_DATA);\n    return;\n  } catch {\n    return null;\n  }\n};","map":{"version":3,"sources":["/Users/lukas/Documents/GitHub/spotify-app/src/utilities/localStorage.tsx"],"names":["TRACK_DATA","getStorageData","key","data","localStorage","getItem","console","log","JSON","parse","updateStorageData","storageData","stringifiedData","length","push","stringify","setItem","arr","err","removeStorageData","removeItem"],"mappings":"AAAA,MAAMA,UAAU,GAAG,YAAnB;AAEA,OAAO,MAAMC,cAAc,GAAIC,GAAD,IAAiB;AAC7C,MAAI;AACF,UAAMC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqBH,GAArB,CAAb;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB,OAAOC,IAAI,CAACC,KAAL,CAAWN,IAAX,CAA3B;AACA,QAAIA,IAAI,IAAI,OAAOA,IAAP,KAAgB,QAA5B,EAAsC,OAAOK,IAAI,CAACC,KAAL,CAAWN,IAAX,CAAP;AACtC,WAAOA,IAAP;AACD,GALD,CAKE,MAAM;AACN,WAAO,IAAP;AACD;AACF,CATM;AAWP,OAAO,MAAMO,iBAAiB,GAAG,CAACR,GAAD,EAAcC,IAAd,KAA+B;AAC9D,MAAI;AACF,UAAMQ,WAAW,GAAGV,cAAc,CAACC,GAAD,CAAlC;AAEA,QAAIU,eAAJ;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBI,WAApB,EAAiC,KAAjC,EAAwCT,GAAxC;;AACA,QAAIS,WAAW,IAAIA,WAAW,CAACE,MAA/B,EAAuC;AACrCF,MAAAA,WAAW,CAACG,IAAZ,CAAiBX,IAAjB;AACAS,MAAAA,eAAe,GAAGJ,IAAI,CAACO,SAAL,CAAeJ,WAAf,CAAlB;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBK,eAAvB;AACAR,MAAAA,YAAY,CAACY,OAAb,CAAqBd,GAArB,EAA0BU,eAA1B;AACA,aAAOA,eAAP;AACD;;AAED,UAAMK,GAAG,GAAG,EAAZ;AACAA,IAAAA,GAAG,CAACH,IAAJ,CAASX,IAAT;AACAS,IAAAA,eAAe,GAAGJ,IAAI,CAACO,SAAL,CAAeE,GAAf,CAAlB;AACAb,IAAAA,YAAY,CAACY,OAAb,CAAqBd,GAArB,EAA0BU,eAA1B;AACA,WAAOA,eAAP;AACD,GAlBD,CAkBE,OAAOM,GAAP,EAAY;AACZ,WAAOA,GAAP;AACD;AACF,CAtBM;AAwBP,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AACrC,MAAI;AACFf,IAAAA,YAAY,CAACgB,UAAb,CAAwBpB,UAAxB;AACA;AACD,GAHD,CAGE,MAAM;AACN,WAAO,IAAP;AACD;AACF,CAPM","sourcesContent":["const TRACK_DATA = \"track_data\";\n\nexport const getStorageData = (key: string) => {\n  try {\n    const data = localStorage.getItem(key);\n    console.log(\"DATA\", typeof JSON.parse(data));\n    if (data && typeof data === \"object\") return JSON.parse(data);\n    return data;\n  } catch {\n    return null;\n  }\n};\n\nexport const updateStorageData = (key: string, data: string) => {\n  try {\n    const storageData = getStorageData(key);\n\n    let stringifiedData;\n    console.log(\"data\", storageData, \"key\", key);\n    if (storageData && storageData.length) {\n      storageData.push(data);\n      stringifiedData = JSON.stringify(storageData);\n      console.log(\"STRINGI\", stringifiedData);\n      localStorage.setItem(key, stringifiedData);\n      return stringifiedData;\n    }\n\n    const arr = [];\n    arr.push(data);\n    stringifiedData = JSON.stringify(arr);\n    localStorage.setItem(key, stringifiedData);\n    return stringifiedData;\n  } catch (err) {\n    return err;\n  }\n};\n\nexport const removeStorageData = () => {\n  try {\n    localStorage.removeItem(TRACK_DATA);\n    return;\n  } catch {\n    return null;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}