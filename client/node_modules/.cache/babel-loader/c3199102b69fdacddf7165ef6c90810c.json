{"ast":null,"code":"const TRACK_DATA = \"track_data\";\nexport const getStorageData = key => {\n  try {\n    const token = localStorage.getItem(key);\n    return token;\n  } catch {\n    return null;\n  }\n};\nexport const updateStorageData = (key, data) => {\n  console.log(\"called\");\n\n  try {\n    const storageData = getStorageData(key);\n    let stringifiedData;\n    console.log();\n\n    if (storageData) {\n      const parsedData = JSON.parse(storageData);\n      parsedData.push(data);\n      stringifiedData = JSON.stringify(parsedData);\n      localStorage.setItem(key, stringifiedData);\n      return stringifiedData;\n    }\n\n    const arr = [];\n    arr.push(data);\n    stringifiedData = JSON.stringify(arr);\n    localStorage.setItem(key, stringifiedData);\n    return stringifiedData;\n  } catch (err) {\n    console.log(\"ERR\", err);\n    return err;\n  }\n};\nexport const removeStorageData = () => {\n  try {\n    localStorage.removeItem(TRACK_DATA);\n    return;\n  } catch {\n    return null;\n  }\n};","map":{"version":3,"sources":["/Users/lukas/Documents/GitHub/spotify-app/src/utilities/localStorage.tsx"],"names":["TRACK_DATA","getStorageData","key","token","localStorage","getItem","updateStorageData","data","console","log","storageData","stringifiedData","parsedData","JSON","parse","push","stringify","setItem","arr","err","removeStorageData","removeItem"],"mappings":"AAAA,MAAMA,UAAU,GAAG,YAAnB;AAEA,OAAO,MAAMC,cAAc,GAAIC,GAAD,IAAiB;AAC7C,MAAI;AACF,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqBH,GAArB,CAAd;AACA,WAAOC,KAAP;AACD,GAHD,CAGE,MAAM;AACN,WAAO,IAAP;AACD;AACF,CAPM;AASP,OAAO,MAAMG,iBAAiB,GAAG,CAACJ,GAAD,EAAcK,IAAd,KAA+B;AAC9DC,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;;AACA,MAAI;AACF,UAAMC,WAAW,GAAGT,cAAc,CAACC,GAAD,CAAlC;AAEA,QAAIS,eAAJ;AACAH,IAAAA,OAAO,CAACC,GAAR;;AACA,QAAIC,WAAJ,EAAiB;AACf,YAAME,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWJ,WAAX,CAAnB;AACAE,MAAAA,UAAU,CAACG,IAAX,CAAgBR,IAAhB;AACAI,MAAAA,eAAe,GAAGE,IAAI,CAACG,SAAL,CAAeJ,UAAf,CAAlB;AACAR,MAAAA,YAAY,CAACa,OAAb,CAAqBf,GAArB,EAA0BS,eAA1B;AACA,aAAOA,eAAP;AACD;;AAED,UAAMO,GAAG,GAAG,EAAZ;AACAA,IAAAA,GAAG,CAACH,IAAJ,CAASR,IAAT;AACAI,IAAAA,eAAe,GAAGE,IAAI,CAACG,SAAL,CAAeE,GAAf,CAAlB;AAEAd,IAAAA,YAAY,CAACa,OAAb,CAAqBf,GAArB,EAA0BS,eAA1B;AACA,WAAOA,eAAP;AACD,GAnBD,CAmBE,OAAOQ,GAAP,EAAY;AACZX,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBU,GAAnB;AACA,WAAOA,GAAP;AACD;AACF,CAzBM;AA2BP,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AACrC,MAAI;AACFhB,IAAAA,YAAY,CAACiB,UAAb,CAAwBrB,UAAxB;AACA;AACD,GAHD,CAGE,MAAM;AACN,WAAO,IAAP;AACD;AACF,CAPM","sourcesContent":["const TRACK_DATA = \"track_data\";\n\nexport const getStorageData = (key: string) => {\n  try {\n    const token = localStorage.getItem(key);\n    return token;\n  } catch {\n    return null;\n  }\n};\n\nexport const updateStorageData = (key: string, data: string) => {\n  console.log(\"called\");\n  try {\n    const storageData = getStorageData(key);\n\n    let stringifiedData;\n    console.log()\n    if (storageData) {\n      const parsedData = JSON.parse(storageData);\n      parsedData.push(data);\n      stringifiedData = JSON.stringify(parsedData);\n      localStorage.setItem(key, stringifiedData);\n      return stringifiedData;\n    }\n\n    const arr = [];\n    arr.push(data);\n    stringifiedData = JSON.stringify(arr);\n   \n    localStorage.setItem(key, stringifiedData);\n    return stringifiedData;\n  } catch (err) {\n    console.log(\"ERR\", err);\n    return err;\n  }\n};\n\nexport const removeStorageData = () => {\n  try {\n    localStorage.removeItem(TRACK_DATA);\n    return;\n  } catch {\n    return null;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}