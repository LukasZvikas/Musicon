{"ast":null,"code":"import _slicedToArray from \"/Users/lukas/Documents/GitHub/spotify-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/lukas/Documents/GitHub/spotify-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/lukas/Documents/GitHub/spotify-app/src/pages/savedSongs/index.tsx\";\n\nfunction _templateObject4() {\n  const data = _taggedTemplateLiteral([\"\\n            query addToPlaylist($songIds: [String!]!, $playlist_id: String!) {\\n              addToPlaylist(songIds: $songIds, playlist_id: $playlist_id) {\\n                snapshot_id\\n              }\\n            }\\n          \"]);\n\n  _templateObject4 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n          query userPlaylists($username: String!) {\\n            userPlaylists(username: $username) {\\n              id\\n              name\\n            }\\n          }\\n        \"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n          {\\n            userDetails {\\n              display_name\\n            }\\n          }\\n        \"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  query SavedTracks($savedTracks: [String!]!) {\\n    savedTracks(savedTracks: $savedTracks) {\\n      id\\n      name\\n      artists {\\n        name\\n      }\\n      preview_url\\n      album {\\n        images {\\n          url\\n        }\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useEffect, Fragment, useState } from \"react\";\nimport gql from \"graphql-tag\";\nimport { Button } from \"../../components/button\";\nimport { client } from \"../../App\";\nimport { Card } from \"./card\";\nimport { Modal } from \"../../components/modal\";\nimport { PlaylistModalBody } from \"./playlistModalBody\";\nimport { CardBody } from \"../../components/cardBody\";\nimport { SuccessMessage } from \"../../components/successMessage\";\nimport { Query } from \"react-apollo\";\nimport { getStorageData } from \"../../utilities/localStorage\";\nimport \"./SavedSongs.css\";\nconst SAVED_TRACKS_QUERY = gql(_templateObject());\n\nconst SavedSongs = () => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        username = _useState2[0],\n        setUsername = _useState2[1];\n\n  const _useState3 = useState({\n    id: \"\",\n    name: \"\"\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        currentPlaylist = _useState4[0],\n        setCurrentPlaylist = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        userPlaylists = _useState6[0],\n        setUserPlaylists = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        songIds = _useState8[0],\n        setSongIds = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        modalState = _useState10[0],\n        setModalState = _useState10[1];\n\n  useEffect(() => {\n    const ids = getStorageData(\"saved_tracks\");\n    setSongIds(ids);\n    client.query({\n      query: gql(_templateObject2())\n    }).then(({\n      data: {\n        userDetails: {\n          display_name\n        }\n      }\n    }) => {\n      playlistQuery(display_name);\n      setUsername(display_name);\n    }).catch(err => console.log(\"ERROR\", err));\n  }, []);\n\n  const playlistQuery = username => {\n    client.query({\n      query: gql(_templateObject3()),\n      variables: {\n        username\n      }\n    }).then(result => {\n      setCurrentPlaylist(result.data.userPlaylists[0]);\n      setUserPlaylists(result.data.userPlaylists);\n    }).catch(err => console.log(\"ERROR\", err));\n  };\n\n  const addToPlaylistQuery = () => {\n    if (currentPlaylist.id) client.query({\n      query: gql(_templateObject4()),\n      variables: {\n        songIds: getStorageData(\"saved_tracks\"),\n        playlist_id: currentPlaylist.id\n      }\n    }).then(result => console.log(\"RESS12\", result)).catch(err => console.log(\"ERROR\", err));\n  };\n\n  const handleSelectChange = value => {\n    setCurrentPlaylist(value);\n  };\n\n  const renderSongs = songs => {\n    return songs.map((song, index) => React.createElement(\"div\", {\n      className: \"d-flex justify-content-center align-items-center flex-column col-12 col-md-6 col-lg-4 p-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Card, {\n      key: index,\n      image: song.album.images.url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(CardBody, {\n      artists: song.artists,\n      preview_url: song.preview_url,\n      name: song.name,\n      style: {\n        name: \"heading__primary-small mb-2 mt-2 text-center\",\n        artist: \"heading__secondary-small mb-4 text-center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })));\n  };\n\n  const getPlaylistId = name => {\n    const playlist = userPlaylists.filter(item => item.name === name);\n    return playlist[0].id;\n  };\n\n  const renderPlaylists = arr => arr.map((item, index) => React.createElement(\"option\", {\n    key: index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, item.name));\n\n  const changeModalState = () => {\n    return setModalState(!modalState);\n  };\n\n  return songIds ? React.createElement(Query, {\n    query: SAVED_TRACKS_QUERY,\n    variables: {\n      savedTracks: songIds\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, props => {\n    if (props.loading) return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Loading...\");\n    if (props.error) console.log(\"error\", props.error);else {\n      return username && currentPlaylist ? React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(SuccessMessage, {\n        message: \"Selected songs were successfully added to your playlist\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(Modal, {\n        show: modalState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(PlaylistModalBody, {\n        name: currentPlaylist.name,\n        changeModalState: () => changeModalState(),\n        addToPlaylist: () => addToPlaylistQuery(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"d-flex justify-content-center align-items-center mt-5 mb-3 flex-column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"heading__primary mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Choose your playlist\"), React.createElement(\"select\", {\n        className: \"select-input\",\n        onChange: e => handleSelectChange({\n          name: e.target.value,\n          id: getPlaylistId(e.target.value)\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, renderPlaylists(userPlaylists)), React.createElement(Button, {\n        type: \"primary\",\n        title: \"Add these songs to \\\"\".concat(currentPlaylist.name, \"\\\"\"),\n        action: () => {\n          changeModalState();\n        },\n        colors: {\n          backgroundColor: \"rgb(255, 78, 80)\",\n          color: \"#fff\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, renderSongs(props.data.savedTracks))) : null;\n    }\n  }) : null;\n};\n\nexport default SavedSongs;","map":{"version":3,"sources":["/Users/lukas/Documents/GitHub/spotify-app/src/pages/savedSongs/index.tsx"],"names":["React","useEffect","Fragment","useState","gql","Button","client","Card","Modal","PlaylistModalBody","CardBody","SuccessMessage","Query","getStorageData","SAVED_TRACKS_QUERY","SavedSongs","username","setUsername","id","name","currentPlaylist","setCurrentPlaylist","userPlaylists","setUserPlaylists","songIds","setSongIds","modalState","setModalState","ids","query","then","data","userDetails","display_name","playlistQuery","catch","err","console","log","variables","result","addToPlaylistQuery","playlist_id","handleSelectChange","value","renderSongs","songs","map","song","index","album","images","url","artists","preview_url","artist","getPlaylistId","playlist","filter","item","renderPlaylists","arr","changeModalState","savedTracks","props","loading","error","e","target","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { useEffect, Fragment, useState } from \"react\";\nimport gql from \"graphql-tag\";\nimport { Button } from \"../../components/button\";\nimport { client } from \"../../App\";\nimport { Card } from \"./card\";\nimport { Modal } from \"../../components/modal\";\nimport { PlaylistModalBody } from \"./playlistModalBody\";\nimport { CardBody } from \"../../components/cardBody\";\nimport { SuccessMessage } from \"../../components/successMessage\";\nimport { Query } from \"react-apollo\";\nimport { getStorageData } from \"../../utilities/localStorage\";\nimport \"./SavedSongs.css\";\n\nconst SAVED_TRACKS_QUERY = gql`\n  query SavedTracks($savedTracks: [String!]!) {\n    savedTracks(savedTracks: $savedTracks) {\n      id\n      name\n      artists {\n        name\n      }\n      preview_url\n      album {\n        images {\n          url\n        }\n      }\n    }\n  }\n`;\n\nconst SavedSongs = () => {\n  const [username, setUsername] = useState(\"\");\n  const [currentPlaylist, setCurrentPlaylist] = useState({ id: \"\", name: \"\" });\n  const [userPlaylists, setUserPlaylists] = useState([]);\n  const [songIds, setSongIds] = useState(\"\");\n  const [modalState, setModalState] = useState(false);\n\n  useEffect(() => {\n    const ids = getStorageData(\"saved_tracks\");\n    setSongIds(ids);\n    client\n      .query({\n        query: gql`\n          {\n            userDetails {\n              display_name\n            }\n          }\n        `\n      })\n      .then(({ data: { userDetails: { display_name } } }) => {\n        playlistQuery(display_name);\n        setUsername(display_name);\n      })\n      .catch(err => console.log(\"ERROR\", err));\n  }, []);\n\n  const playlistQuery = (username: string) => {\n    client\n      .query({\n        query: gql`\n          query userPlaylists($username: String!) {\n            userPlaylists(username: $username) {\n              id\n              name\n            }\n          }\n        `,\n        variables: { username }\n      })\n      .then(result => {\n        setCurrentPlaylist(result.data.userPlaylists[0]);\n        setUserPlaylists(result.data.userPlaylists);\n      })\n      .catch(err => console.log(\"ERROR\", err));\n  };\n\n  const addToPlaylistQuery = () => {\n    if (currentPlaylist.id)\n      client\n        .query({\n          query: gql`\n            query addToPlaylist($songIds: [String!]!, $playlist_id: String!) {\n              addToPlaylist(songIds: $songIds, playlist_id: $playlist_id) {\n                snapshot_id\n              }\n            }\n          `,\n          variables: {\n            songIds: getStorageData(\"saved_tracks\"),\n            playlist_id: currentPlaylist.id\n          }\n        })\n        .then(result => console.log(\"RESS12\", result))\n        .catch(err => console.log(\"ERROR\", err));\n  };\n\n  const handleSelectChange = (value: { name: string; id: string }) => {\n    setCurrentPlaylist(value);\n  };\n\n  const renderSongs = (\n    songs: {\n      album: { images: { url: string } };\n      artists: { name: string }[];\n      preview_url: string;\n      name: string;\n    }[]\n  ) => {\n    return songs.map(\n      (\n        song: {\n          album: { images: { url: string } };\n          artists: { name: string }[];\n          preview_url: string;\n          name: string;\n        },\n        index: number\n      ) => (\n        <div className=\"d-flex justify-content-center align-items-center flex-column col-12 col-md-6 col-lg-4 p-3\">\n          <Card key={index} image={song.album.images.url} />\n          <CardBody\n            artists={song.artists}\n            preview_url={song.preview_url}\n            name={song.name}\n            style={{\n              name: \"heading__primary-small mb-2 mt-2 text-center\",\n              artist: \"heading__secondary-small mb-4 text-center\"\n            }}\n          />\n        </div>\n      )\n    );\n  };\n\n  const getPlaylistId = (name: string): string => {\n    const playlist: { name: string; id: string }[] = userPlaylists.filter(\n      (item: { name: string; id: string }) => item.name === name\n    );\n    return playlist[0].id;\n  };\n\n  const renderPlaylists = (arr: { name: string; id: string }[]) =>\n    arr.map((item, index) => <option key={index}>{item.name}</option>);\n\n  const changeModalState = () => {\n    return setModalState(!modalState);\n  };\n\n  return songIds ? (\n    <Query query={SAVED_TRACKS_QUERY} variables={{ savedTracks: songIds }}>\n      {(props: any) => {\n        if (props.loading) return <div>Loading...</div>;\n        if (props.error) console.log(\"error\", props.error);\n        else {\n          return username && currentPlaylist ? (\n            <Fragment>\n              <SuccessMessage message={\"Selected songs were successfully added to your playlist\"}/>\n              <Modal show={modalState}>\n                <PlaylistModalBody\n                  name={currentPlaylist.name}\n                  changeModalState={() => changeModalState()}\n                  addToPlaylist={() => addToPlaylistQuery()}\n                />\n              </Modal>\n              <div className=\"d-flex justify-content-center align-items-center mt-5 mb-3 flex-column\">\n                <div className=\"heading__primary mb-3\">\n                  Choose your playlist\n                </div>\n                <select\n                  className=\"select-input\"\n                  onChange={e =>\n                    handleSelectChange({\n                      name: e.target.value,\n                      id: getPlaylistId(e.target.value)\n                    })\n                  }\n                >\n                  {renderPlaylists(userPlaylists)}\n                </select>\n                <Button\n                  type={\"primary\"}\n                  title={`Add these songs to \"${currentPlaylist.name}\"`}\n                  action={() => {\n                    changeModalState();\n                  }}\n                  colors={{\n                    backgroundColor: \"rgb(255, 78, 80)\",\n                    color: \"#fff\"\n                  }}\n                />\n              </div>\n              <div className=\"row\">{renderSongs(props.data.savedTracks)}</div>\n            </Fragment>\n          ) : null;\n        }\n      }}\n    </Query>\n  ) : null;\n};\n\nexport default SavedSongs;\n"]},"metadata":{},"sourceType":"module"}